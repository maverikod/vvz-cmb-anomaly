# ЗАДАНИЕ: Поиск и статистический анализ крупных аномалий на карте CMB (Planck SMICA 2018)

**Входные данные:**
- Карта неба: `COM_CMB_IQU-smica_2048_R3.00_full.fits` (HEALPix, Nside=2048)
- Маска для удаления загрязнённых областей: `COM_Mask_CMB-common-Mask-Int_2048_R3.00.fits`
- YAML-файл с описанием известных аномальных регионов: `cmb_anomalies.yaml`
  - Каждый регион содержит координаты (l, b), угловой размер и тип аномалии

**Цель анализа:**  
Провести количественную и визуальную оценку крупных аномальных областей на карте микроволнового фонового излучения (CMB), чтобы понять, насколько они выделяются на фоне обычных флуктуаций.

**Пошаговое задание:**

1. **Загрузите данные:**
   - Прочитайте компоненту температуры (I) из файла .fits.
   - Примените маску, чтобы исключить галактическую плоскость и загрязнённые области.

2. **Визуализируйте карту неба:**
   - Нарисуйте Mollweide-проекцию температуры.
   - Отметьте на ней регионы, указанные в yaml-файле (нарисуйте круги, подпишите тип аномалии).

3. **Статистический анализ по каждому региону (ROI) из yaml:**
   - Рассчитайте среднее значение температуры и стандартное отклонение (σ) внутри каждой зоны.
   - Для контроля: сгенерируйте 100 случайных регионов такого же размера вне маски и сравните статистику (сравните среднее, σ, гистограммы).
   - Оцените, насколько регион аномален относительно распределения случайных регионов.

4. **Специальные задания для отдельных регионов:**
   - **Cold Spot:** Постройте температурный профиль от центра к периферии. Оцените глубину и симметрию.
   - **Axis of Evil:** Для указанной оси/зоны – проанализируйте выравнивание/длины волн (если нужно, разложите карту по сферическим гармоникам, изучите l=2,3).
   - **Крупные горячие и холодные пятна:** Определите их размер, температуру, сравните с аналогичными участками на карте.

5. **Результаты:**
   - Для каждого региона оформите мини-отчёт: координаты, размер, средняя температура, σ, сравнение с фоном, насколько “выброс” значим.
   - Добавьте карту с нанесёнными аномалиями и визуализацией температурного профиля.

6. **Дополнительно (по желанию):**
   - Автоматически найдите другие регионы, похожие по размеру/типу на описанные, и включите их в анализ.

**Формат сдачи:**  
- Оформленный отчёт (Jupyter, PDF, Google Doc), в котором есть:
  - Карта с отметками регионов
  - Таблица со статистикой по каждому региону и по случайным регионам
  - Краткие выводы: какие регионы действительно выбиваются из “нормального” распределения, насколько они уникальны

---

**Задача не требует знания космологии или фазовых моделей** — нужно применить стандартные методы статистического и визуального анализа для оценки “странности” выделенных областей на небе.
